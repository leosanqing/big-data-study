# 1. zk 启动报错
```shell
[2025-07-22 10:55:34,358] ERROR Fatal error during KafkaServer startup. Prepare to shutdown (kafka.server.KafkaServer)
java.lang.NoSuchMethodError: org.apache.zookeeper.ZooKeeper.<init>(Ljava/lang/String;ILorg/apache/zookeeper/Watcher;Lorg/apache/zookeeper/client/ZKClientConfig;)V
        at kafka.zookeeper.ZooKeeperClient.<init>(ZooKeeperClient.scala:101)
        at kafka.zk.KafkaZkClient$.apply(KafkaZkClient.scala:2262)
        at kafka.zk.KafkaZkClient$.createZkClient(KafkaZkClient.scala:2354)
        at kafka.server.KafkaServer.initZkClient(KafkaServer.scala:595)
        at kafka.server.KafkaServer.startup(KafkaServer.scala:214)
        at kafka.Kafka$.main(Kafka.scala:115)
        at kafka.Kafka.main(Kafka.scala)
        
原因是 hadoop lib下的 zk 包影响

cd /opt/software/hadoop-3.2.4/share/hadoop/common/lib/
mv zookeeper-3.4.14.jar zookeeper-3.4.14.jar.bak
mv zookeeper-jute-3.4.14.jar zookeeper-jute-3.4.14.jar.bak

# 拷贝高版本
cp /opt/software/kafka_2.12-3.4.1/libs/zookeeper-3.6.4.jar .
cp /opt/software/kafka_2.12-3.4.1/libs/zookeeper-jute-3.6.4.jar .

```
# 2. 